<!doctype html>
<html lang="sq">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Respekte Afendiko ❤️</title>
  <style>
    :root{--bg:#111;--heart:#e53935;--accent:#fff}
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
    body{display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#0b0b0b,#1a1a1a);color:var(--accent);}
    .card{display:flex;flex-direction:column;align-items:center;gap:18px;padding:32px;border-radius:16px;text-align:center}
    .heart{
      width:180px;height:160px;position:relative;transform:scale(1);animation:pulse 1.1s ease-in-out infinite;
    }
    .heart::before,.heart::after{
      content:"";position:absolute;left:50%;top:25%;width:100px;height:160px;background:var(--heart);border-radius:50px 50px 0 0;transform-origin:center;transform:translateX(-50%) rotate(-45deg);
      box-shadow:0 8px 30px rgba(0,0,0,0.45), inset 0 -6px 12px rgba(255,255,255,0.05);
    }
    .heart::after{transform:translateX(-50%) rotate(45deg);left:unset;right:50%;}
    @keyframes pulse{
      0%{transform:scale(0.98)}
      50%{transform:scale(1.06)}
      100%{transform:scale(0.98)}
    }
    h1{margin:0;font-size:20px;letter-spacing:1px}
    p{margin:0;opacity:0.83}
    button{
      background:transparent;border:2px solid var(--accent);color:var(--accent);padding:10px 16px;border-radius:10px;font-weight:600;cursor:pointer
    }
    button:active{transform:translateY(1px)}
    .small{font-size:12px;opacity:0.7;margin-top:6px}
  </style>
</head>
<body>
  <div class="card" role="main" aria-live="polite">
    <div class="heart" aria-hidden="true"></div>
    <h1>RESPEKTE AFENDIKO</h1>
    <p>Heartbeat + zë automatik (nëse shfletuesi lejon)</p>
    <div>
      <button id="playBtn">Luaj zërin</button>
    </div>
    <div class="small">Nëse s'nton zëri automatikisht — klikoni butonin.</div>
  </div>

  <script>
    const phrase = "RESPEKTE AFENDIKO";
    const playBtn = document.getElementById('playBtn');

    function speakText(text){
      if(!('speechSynthesis' in window)){ alert('Speech API jo i mbështetur në këtë shfletues.'); return; }
      const utter = new SpeechSynthesisUtterance(text);
      // përpiqemi të kërkojmë zër shqip; nëse nuk ka, shfletuesi përdor default
      utter.lang = 'sq-AL';
      // pak parametra për efekt: volum, shpejtësi, intonacion
      utter.volume = 1;
      utter.rate = 1;
      utter.pitch = 1;
      // zgjidh një zë që përputhet me 'sq' nëse gjendet
      const voices = speechSynthesis.getVoices();
      const sqVoice = voices.find(v=>/sq|alban/i.test(v.lang) || /alban/i.test(v.name));
      if(sqVoice) utter.voice = sqVoice;
      speechSynthesis.cancel(); // pastro nëse diçka po luhet
      speechSynthesis.speak(utter);
    }

    // shumë shfletues duhet t'i ngarkojnë zërat asin. Nëse nuk ka zëra ende, presim ngarkimin.
    function trySpeakOnLoad(){
      // disa browser-e (Chrome) nuk e japin listën e zërave menjëherë
      const voices = speechSynthesis.getVoices();
      if(voices.length === 0){
        // dëgjojmë eventin dhe përpiqemi sërish
        speechSynthesis.onvoiceschanged = () => {
          speakText(phrase);
        };
      } else {
        // provoni të luani menjëherë; nëse është bllokuar, përdoruesi do të klikojë butonin
        try { speakText(phrase); } catch(e){ /* noop */ }
      }
    }

    // On load: përpiqemi të luajmë zërin
    window.addEventListener('DOMContentLoaded', () => {
      trySpeakOnLoad();
    });

    // butoni manual
    playBtn.addEventListener('click', ()=> speakText(phrase));
  </script>
</body>
</html>
